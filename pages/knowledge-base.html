<!DOCTYPE html>
<html lang="en" data-theme="bumblebee">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hebo AI - Knowledge Base</title>
    <link href="../dist/style.css" rel="stylesheet" />
    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
  </head>
  <body
    class="min-h-screen bg-base-100"
    x-data="{ 
      currentSection: 'role',
      showVersionModal: false,
      newKeyName: '',
      generatedKey: null,
      showKey: false,
      selectedLang: 'curl',
      knowledgeSections: [],
      showSearchModal: false,
      collapsed: false,
      showKnowledgeCarousel: false,
      showDataSourceForm: false,
      knowledgeCarouselPosition: { x: 0, y: 0 },
      tools: [],
      usedKnowledge: [
        { title: 'Adding Content', excerpt: 'New entries can be added through the workspace sidebar using the New Page button...' },
        { title: 'Markdown Support', excerpt: 'Content can be formatted using markdown syntax including headers, lists, and code blocks...' },
        { title: 'File Import', excerpt: 'External content can be imported from markdown and text files...' }
      ],
      addNewKnowledge() {
        this.knowledgeSections.push({
          id: 'new-knowledge-' + Date.now(),
          name: 'New knowledge'
        });
      },
      slashMenu: {
        show: false,
        x: 0,
        y: 0
      },
      retrySync() {
        // Add sync retry logic here
        console.log('Retrying sync...');
      },
    }"
  >
    <div class="flex flex-col min-h-screen">
      <!-- Top Navigation -->
      <nav class="bg-base-200 border-b">
        <div class="flex items-center justify-between h-16 px-6">
          <!-- Logo section -->
          <a href="agents.html" class="text-primary hover:text-primary-focus inline-flex items-center gap-1">
            Gato@v2
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 6" class="w-2 h-2 fill-success">
              <circle cx="3" cy="3" r="3" />
            </svg>
          </a>

          <!-- Main navigation -->
          <div class="flex items-center gap-2">
            <a href="dashboard.html" class="btn btn-sm btn-ghost">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
              </svg>
              <span class="ml-1">Dashboard</span>
            </a>
            <a href="knowledge-base.html" class="btn btn-sm btn-primary">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
              </svg>
              <span class="ml-1">Knowledge Base</span>
            </a>
            <a href="evaluation.html" class="btn btn-sm btn-ghost">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5" />
              </svg>
              <span class="ml-1">Evaluation</span>
            </a>
            <a href="conversations.html" class="btn btn-sm btn-ghost">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
              </svg>
              <span class="ml-1">Conversations</span>
            </a>
          </div>

          <!-- Settings and user section -->
          <div class="flex items-center gap-2">
            <a href="settings.html" class="btn btn-sm btn-ghost">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              <span class="ml-1">Settings</span>
            </a>
            <div class="dropdown dropdown-end">
              <button class="btn btn-sm btn-ghost" onclick="document.getElementById('user-dropdown').classList.toggle('hidden')">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span class="ml-1">Heinrich</span>
              </button>
              <ul id="user-dropdown" class="hidden dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52 mt-2">
                <li><a>Profile</a></li>
                <li><a href="../index.html">Logout</a></li>
              </ul>
            </div>
          </div>
        </div>
      </nav>

      <!-- Main content area -->
      <div class="drawer-content flex flex-col h-[calc(100vh-4rem)]">
        <div class="flex h-full">
          <!-- Workspace sidebar -->
          <aside class="w-64 bg-base-200 border-r flex flex-col">
            <!-- Add new section for collapse/expand -->
            <div class="px-4 py-2 border-b border-base-300">
              <div class="flex items-center justify-between">
                <!-- Collapse/Expand button -->
                <button 
                  class="w-full flex items-center justify-between px-3 py-1.5 text-xs font-semibold text-base-content/50 uppercase tracking-wider hover:bg-base-300 rounded-lg"
                  @click="currentSection = 'settings'"
                >
                  <span>Agent</span>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                  </svg>
                </button>
              </div>
            </div>

            <!-- Navigation takes remaining space -->
            <nav class="flex-1 p-2">
              <!-- Workspace navigation -->
              <div class="px-2 mb-2">
                <button 
                  class="w-full flex items-center justify-between px-3 py-1.5 text-xs font-semibold text-base-content/50 uppercase tracking-wider hover:bg-base-300 rounded-lg"
                  @click="showSearchModal = true"
                >
                  <span>Search</span>
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                  </svg>
                </button>
              </div>

              <!-- Border separator -->
              <div class="px-4 border-b border-base-300"></div>

              <!-- Knowledge Base Items -->
              <div class="mb-6">
                <div class="px-2 mt-2">
                  <button 
                    class="w-full flex items-center justify-between px-3 py-1.5 text-xs font-semibold text-base-content/50 uppercase tracking-wider hover:bg-base-300 rounded-lg"
                    @click="knowledgeSections.push({
                      id: 'new-knowledge-' + Date.now(),
                      name: 'New piece of knowledge'
                    }); currentSection = 'new-knowledge-' + Date.now()"
                  >
                    <span>Knowledge Base</span>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                    </svg>
                  </button>
                </div>
                <ul class="space-y-0.5 knowledge-base-items pl-2">
                  <li>
                    <a href="#role" 
                       class="block px-3 py-1.5 rounded-lg transition-colors hover:bg-base-300 text-sm"
                       :class="{ 'bg-base-300': currentSection === 'role' }"
                       @click="currentSection = 'role'">
                      <span>Role</span>
                    </a>
                  </li>
                  <li>
                    <a href="#formatting" 
                       class="block px-3 py-1.5 rounded-lg transition-colors hover:bg-base-300 text-sm"
                       :class="{ 'bg-base-300': currentSection === 'formatting' }"
                       @click="currentSection = 'formatting'">
                      <span>Formatting</span>
                    </a>
                  </li>
                  <li>
                    <a href="#scenario1" 
                       class="block px-3 py-1.5 rounded-lg transition-colors hover:bg-base-300 text-sm"
                       :class="{ 'bg-base-300': currentSection === 'scenario1' }"
                       @click="currentSection = 'scenario1'">
                      <span>Scenario 1</span>
                    </a>
                    <ul class="pl-4 mt-0.5 space-y-0.5">
                      <li>
                        <a href="#scenario1-billing" 
                           class="block px-3 py-1.5 rounded-lg transition-colors hover:bg-base-300 text-sm"
                           :class="{ 'bg-base-300': currentSection === 'scenario1-billing' }"
                           @click="currentSection = 'scenario1-billing'">
                          <span>Billing Procedures</span>
                        </a>
                      </li>
                      <li>
                        <a href="#scenario1-refunds" 
                           class="block px-3 py-1.5 rounded-lg transition-colors hover:bg-base-300 text-sm"
                           :class="{ 'bg-base-300': currentSection === 'scenario1-refunds' }"
                           @click="currentSection = 'scenario1-refunds'">
                          <span>Refund Policies</span>
                        </a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#examples" 
                       class="block px-3 py-1.5 rounded-lg transition-colors hover:bg-base-300 text-sm"
                       :class="{ 'bg-base-300': currentSection === 'examples' }"
                       @click="currentSection = 'examples'">
                      <span>Examples</span>
                    </a>
                  </li>
                  <template x-for="section in knowledgeSections" :key="section.id">
                    <li>
                      <a :href="'#' + section.id"
                         class="block px-3 py-1.5 rounded-lg transition-colors hover:bg-base-300 text-sm"
                         :class="{ 'bg-base-300': currentSection === section.id }"
                         @click="currentSection = section.id">
                        <span x-text="section.name"></span>
                      </a>
                    </li>
                  </template>
                </ul>
              </div>
            </nav>
          </aside>

          <!-- Content and chat area -->
          <div class="flex flex-1">
            <!-- Left content pane - scrollable -->
            <div class="w-3/5 bg-white overflow-y-auto">
              <!-- Role content -->
              <div x-show="currentSection === 'role'" class="max-w-3xl mx-auto py-20 px-12">
                <div class="prose max-w-none">
                  <div contenteditable="true" 
                       class="outline-none"
                       @keydown.slash.prevent="
                         const selection = window.getSelection();
                         const range = selection.getRangeAt(0);
                         // Create a temporary element to measure position
                         const tempElement = document.createElement('span');
                         range.insertNode(tempElement);
                         const rect = tempElement.getBoundingClientRect();
                         // Clean up the temporary element
                         tempElement.parentNode.removeChild(tempElement);
                         // Restore the range
                         range.collapse(true);
                         selection.removeAllRanges();
                         selection.addRange(range);
                         // Set menu position
                         slashMenu.x = rect.left;
                         slashMenu.y = rect.bottom + window.scrollY;
                         slashMenu.show = true;
                       "
                       @click="slashMenu.show = false">
                    <h1 class="text-4xl font-bold mb-8">Role Definition</h1>
                    <div class="text-base text-base-content/80 leading-relaxed">
                      You are an AI assistant for Hebo, a customer support automation platform.
                      Your primary role is to help users with their inquiries about the platform's features,
                      subscription management, and technical support.

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Key Responsibilities</h2>
                      <ul class="space-y-2">
                        <li>Answer questions about Hebo's features and capabilities</li>
                        <li>Guide users through common troubleshooting steps</li>
                        <li>Assist with subscription and billing inquiries</li>
                        <li>Provide clear, accurate information about pricing plans</li>
                        <li>Maintain a professional and helpful tone</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Guidelines</h2>
                      <ul class="space-y-2">
                        <li>Stay within the scope of documented features</li>
                        <li>Escalate complex technical issues to human support</li>
                        <li>Protect user privacy and sensitive information</li>
                        <li>Be transparent about AI limitations</li>
                      </ul>
                    </div>
                  </div>
                </div>

                <!-- Slash Command Menu -->
                <div
                  x-show="slashMenu.show"
                  x-transition
                  :style="`position: fixed; left: ${slashMenu.x}px; top: ${slashMenu.y}px;`"
                  class="bg-white rounded-lg shadow-lg border border-base-200 w-64 py-2 z-50"
                  @click.outside="slashMenu.show = false"
                >
                  <div class="px-2 py-1 text-sm text-base-content/70">Insert...</div>
                  
                  <button 
                    class="w-full px-3 py-2 hover:bg-base-100 flex items-center gap-2 text-left"
                    @click="
                      document.execCommand('insertHTML', false, '<h2 class=\'text-2xl font-semibold mt-8 mb-4\'>New Scenario</h2><p>Describe your scenario here...</p>');
                      slashMenu.show = false;
                    "
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5" />
                    </svg>
                    Scenario
                  </button>

                  <button 
                    class="w-full px-3 py-2 hover:bg-base-100 flex items-center gap-2 text-left"
                    @click="
                      document.execCommand('insertHTML', false, '<div class=\'card bg-base-200 my-4\'><div class=\'card-body\'><h3 class=\'card-title text-sm\'>New Example</h3><div class=\'space-y-2 text-sm\'><p><strong>User:</strong> </p><p><strong>Assistant:</strong> </p></div></div></div>');
                      slashMenu.show = false;
                    "
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
                    </svg>
                    Example
                  </button>

                  <button 
                    class="w-full px-3 py-2 hover:bg-base-100 flex items-center gap-2 text-left"
                    @click="
                      document.execCommand('insertHTML', false, '<div class=\'card bg-base-200 my-4\'><div class=\'card-body\'><h3 class=\'card-title text-sm\'>Evaluation Example</h3><div class=\'space-y-2 text-sm\'><p><strong>Input:</strong> </p><p><strong>Expected:</strong> </p><p><strong>Actual:</strong> </p><p><strong>Score:</strong> <span class=\'badge badge-success\'>Pass</span></p></div></div></div>');
                      slashMenu.show = false;
                    "
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5" />
                    </svg>
                    Example from evaluation
                  </button>

                  <!-- Header Formatting Options -->
                  <div class="border-t border-base-200 mt-2 pt-2">
                    <div class="px-2 py-1 text-sm text-base-content/70">Format as...</div>
                    
                    <button 
                      class="w-full px-3 py-2 hover:bg-base-100 flex items-center gap-2 text-left"
                      @click="
                        document.execCommand('insertHTML', false, '<h1 class=\'text-4xl font-bold mb-8\'>Heading 1</h1>');
                        slashMenu.show = false;
                      "
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
                      </svg>
                      Heading 1
                    </button>
                    
                    <button 
                      class="w-full px-3 py-2 hover:bg-base-100 flex items-center gap-2 text-left"
                      @click="
                        document.execCommand('insertHTML', false, '<h2 class=\'text-2xl font-semibold mt-8 mb-4\'>Heading 2</h2>');
                        slashMenu.show = false;
                      "
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
                      </svg>
                      Heading 2
                    </button>
                    
                    <button 
                      class="w-full px-3 py-2 hover:bg-base-100 flex items-center gap-2 text-left"
                      @click="
                        document.execCommand('insertHTML', false, '<h3 class=\'text-xl font-semibold mt-6 mb-3\'>Heading 3</h3>');
                        slashMenu.show = false;
                      "
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
                      </svg>
                      Heading 3
                    </button>
                  </div>

                  <!-- Add Tool Usage Options -->
                  <div class="border-t border-base-200 mt-2 pt-2">
                    <div class="px-2 py-1 text-sm text-base-content/70">Use Tool...</div>
                    
                    <button 
                      class="w-full px-3 py-2 hover:bg-base-100 flex items-center gap-2 text-left"
                      @click="
                        document.execCommand('insertHTML', false, '<code>use tool_1</code>');
                        slashMenu.show = false;
                      "
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75a4.5 4.5 0 01-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 11-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 016.336-4.486l-3.276 3.276a3.004 3.004 0 002.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.867 19.125h.008v.008h-.008v-.008z" />
                      </svg>
                      Use tool_1
                    </button>

                    <button 
                      class="w-full px-3 py-2 hover:bg-base-100 flex items-center gap-2 text-left"
                      @click="
                        document.execCommand('insertHTML', false, '<code>use inventory_check</code>');
                        slashMenu.show = false;
                      "
                    >
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" />
                      </svg>
                      Use inventory_check
                    </button>
                  </div>

                  <button 
                    class="w-full px-3 py-2 hover:bg-base-100 flex items-center gap-2 text-left border-t border-base-200 mt-2"
                    @click="
                      const input = document.createElement('input');
                      input.type = 'file';
                      input.accept = '.md,.txt';
                      input.onchange = (e) => {
                        const file = e.target.files[0];
                        const reader = new FileReader();
                        reader.onload = (e) => {
                          document.execCommand('insertText', false, e.target.result);
                        };
                        reader.readAsText(file);
                      };
                      input.click();
                      slashMenu.show = false;
                    "
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m6.75 12l-3-3m0 0l-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                    </svg>
                    Import from file
                  </button>
                </div>
              </div>

              <!-- Formatting content -->
              <div x-show="currentSection === 'formatting'" class="max-w-3xl mx-auto py-20 px-12">
                <div class="prose max-w-none">
                  <div contenteditable="true" class="outline-none">
                    <h1 class="text-4xl font-bold mb-8">Formatting Guidelines</h1>
                    <div class="text-base text-base-content/80 leading-relaxed">
                      <h2 class="text-2xl font-semibold mt-8 mb-4">Markdown Structure</h2>
                      <ul class="space-y-2">
                        <li>Headers: Use # for main points</li>
                        <li>Lists: Use - for bullet points</li>
                        <li>Code: Use ``` for code blocks</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Response Structure</h2>
                      <ul class="space-y-2">
                        <li>Start with a clear, direct answer</li>
                        <li>Follow with supporting details</li>
                        <li>End with next steps or related information</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Special Formatting</h2>
                      <ul class="space-y-2">
                        <li>Use <strong>bold</strong> for emphasis</li>
                        <li>Use <code>code</code> for technical terms</li>
                        <li>Use blockquotes for important notes</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Length and Clarity</h2>
                      <ul class="space-y-2">
                        <li>Keep paragraphs short (3-4 lines)</li>
                        <li>Use lists for multiple points</li>
                        <li>Include examples when helpful</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Scenario 1 content -->
              <div x-show="currentSection === 'scenario1'" class="max-w-3xl mx-auto py-20 px-12">
                <div class="prose max-w-none">
                  <div contenteditable="true" class="outline-none">
                    <h1 class="text-4xl font-bold mb-8">Subscription Support Scenario</h1>
                    <div class="text-base text-base-content/80 leading-relaxed">
                      <p class="mb-6">
                        When handling subscription-related inquiries, follow this structured approach to ensure consistent and effective support.
                      </p>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">1. Initial Response</h2>
                      <ul class="space-y-2">
                        <li>Greet the user professionally</li>
                        <li>Acknowledge their subscription concern</li>
                        <li>Ask for relevant account details</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">2. Verification Steps</h2>
                      <ul class="space-y-2">
                        <li>Confirm email address</li>
                        <li>Verify subscription status</li>
                        <li>Check billing history if relevant</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">3. Common Solutions</h2>
                      <ul class="space-y-2">
                        <li>Guide through plan upgrades/downgrades</li>
                        <li>Explain billing cycles</li>
                        <li>Resolve payment issues</li>
                        <li>Process refunds when applicable</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">4. Escalation Criteria</h2>
                      <ul class="space-y-2">
                        <li>Complex billing disputes</li>
                        <li>Technical subscription errors</li>
                        <li>Special discount requests</li>
                        <li>Enterprise plan inquiries</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Billing Procedures content -->
              <div x-show="currentSection === 'scenario1-billing'" class="max-w-3xl mx-auto py-20 px-12">
                <div class="prose max-w-none">
                  <div contenteditable="true" class="outline-none">
                    <h1 class="text-4xl font-bold mb-8">Billing Procedures</h1>
                    <div class="text-base text-base-content/80 leading-relaxed">
                      <h2 class="text-2xl font-semibold mt-8 mb-4">Standard Billing Process</h2>
                      <ul class="space-y-2">
                        <li>When customers inquire about billing dates, inform them that charges are processed on the 1st of each month</li>
                        <li>If customers upgrade their plan mid-month, explain that charges will be pro-rated for the remaining days</li>
                        <li>Assure customers that payments are processed automatically - no manual intervention needed on their part</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Payment Method Information</h2>
                      <ul class="space-y-2">
                        <li>When customers ask about payment options, access the payment methods page to confirm we accept:
                          <ol class="ml-4 mt-2">
                            <li>		<strong>1.</strong> Credit/Debit Cards (Visa, Mastercard, Amex)</li>
                            <li>		<strong>2.</strong> PayPal</li>
                            <li>		<strong>3.</strong> Wire Transfer (verify enterprise status before offering)</li>
                          </ol>
                        </li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Failed Payment Protocol</h2>
                      <ul class="space-y-2">
                        <li>When addressing failed payments, check the payment status page to verify:
                          <ul class="ml-4 mt-2">
                            <li>Current retry attempt number (maximum 3 attempts over 7 days)</li>
                            <li>Status of notification emails sent to customer</li>
                            <li>Account status - note if approaching suspension threshold</li>
                          </ul>
                        </li>
                        <li>Inform customers of remaining retry attempts and potential account suspension timeline</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Refund Policies content -->
              <div x-show="currentSection === 'scenario1-refunds'" class="max-w-3xl mx-auto py-20 px-12">
                <div class="prose max-w-none">
                  <div contenteditable="true" class="outline-none">
                    <h1 class="text-4xl font-bold mb-8">Refund Policies</h1>
                    <div class="text-base text-base-content/80 leading-relaxed">
                      <h2 class="text-2xl font-semibold mt-8 mb-4">Refund Eligibility</h2>
                      <ul class="space-y-2">
                        <li>14-day money-back guarantee for new subscriptions</li>
                        <li>Pro-rated refunds for annual plans</li>
                        <li>Service outage compensation</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Refund Process</h2>
                      <ul class="space-y-2">
                        <li>Submit request through support portal</li>
                        <li>2-3 business days processing time</li>
                        <li>Refund to original payment method</li>
                      </ul>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Non-refundable Items</h2>
                      <ul class="space-y-2">
                        <li>Add-on services</li>
                        <li>Custom development work</li>
                        <li>Usage-based charges</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Examples content -->
              <div x-show="currentSection === 'examples'" class="max-w-3xl mx-auto py-20 px-12">
                <div class="prose max-w-none">
                  <div contenteditable="true" class="outline-none">
                    <h1 class="text-4xl font-bold mb-8">Conversation Examples</h1>
                    
                    <div class="text-base text-base-content/80 leading-relaxed">
                      <p class="mb-6">
                        Reference examples of common support scenarios and their ideal responses. Use these to maintain consistency in tone and problem-solving approach.
                      </p>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Plan Upgrade Inquiry</h2>
                      <div class="pl-4 border-l-4 border-base-200 mb-8">
                        <div class="badge badge-neutral mb-2">USER</div>
                        <p class="mb-4">How do I upgrade to the Professional plan?</p>
                        <div class="badge badge-primary mb-2">ASSISTANT</div>
                        <p>I'll help you upgrade your plan. Could you please confirm your account email first? Once verified, I can guide you through the upgrade process step by step.</p>
                      </div>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Technical Support with Tool Usage</h2>
                      <div class="pl-4 border-l-4 border-base-200 mb-8">
                        <div class="badge badge-neutral mb-2">USER</div>
                        <p class="mb-4">What's my current API usage for this month?</p>
                        <div class="badge badge-accent mb-2">TOOL</div>
                        <p class="mb-4 text-base-content/70">Querying API usage metrics for current billing period...</p>
                        <div class="badge badge-primary mb-2">ASSISTANT</div>
                        <p>Based on the usage data, you've made 45,230 API calls this month, which is about 60% of your monthly quota of 75,000 calls. At your current usage rate, you should be well within your limit for this billing cycle. Would you like me to show you a breakdown by endpoint or help you set up usage alerts?</p>
                      </div>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Billing Support</h2>
                      <div class="pl-4 border-l-4 border-base-200 mb-8">
                        <div class="badge badge-neutral mb-2">USER</div>
                        <p class="mb-4">I was charged twice this month</p>
                        <div class="badge badge-primary mb-2">ASSISTANT</div>
                        <p>I apologize for any billing concerns. Let me help you investigate this right away. Could you please provide your account email address? I'll check your billing history to verify the charges and help resolve any duplicate payments.</p>
                      </div>

                      <h2 class="text-2xl font-semibold mt-8 mb-4">Feature Request</h2>
                      <div class="pl-4 border-l-4 border-base-200 mb-8">
                        <div class="badge badge-neutral mb-2">USER</div>
                        <p class="mb-4">Do you support integration with Salesforce?</p>
                        <div class="badge badge-primary mb-2">ASSISTANT</div>
                        <p>Currently, we don't have a direct Salesforce integration, but it's a frequently requested feature that's on our roadmap. In the meantime, you can use our REST API or Zapier integration to connect Hebo with Salesforce. Would you like me to explain these alternative solutions?</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Settings content -->
              <div x-show="currentSection === 'settings'" class="max-w-3xl mx-auto py-20 px-12">
                <div class="prose max-w-none">
                  <div contenteditable="true" class="outline-none space-y-6">
                    <h1 class="text-4xl font-bold mb-8">Agent Configuration</h1>

                    <!-- Core LLM -->
                    <div class="form-control">
                      <label class="label">
                        <span class="label-text font-bold">Core LLM</span>
                      </label>
                      <select class="select select-bordered w-full">
                        <option>GPT-4o</option>
                        <option>GPT-4o mini</option>
                        <option>o1-preview</option>
                        <option>o1-mini</option>
                        <option>claude-3-5-sonnet</option>
                        <option>claude-3-5-haiku</option>
                      </select>
                      <label class="label">
                        <span class="label-text-alt">
                          <strong>Choose the AI model that powers your answers and actions.</strong>
                          <br/>
                          This model will be the brain behind generating answers and deciding whether to use additional tools based on the context. Pick a model based on your needs: higher-performing models like GPT-4o are best for complex tasks, while lighter models like GPT-4o mini are faster and more cost-efficient.
                        </span>
                      </label>
                    </div>

                    <!-- Advanced Settings Accordion -->
                    <div class="collapse collapse-arrow bg-base-200">
                      <input type="checkbox" /> 
                      <div class="collapse-title text-xl font-medium">
                        Advanced
                      </div>
                      <div class="collapse-content space-y-6">
                        <!-- Condense LLM -->
                        <div class="form-control">
                          <label class="label">
                            <span class="label-text font-bold">Condense LLM</span>
                          </label>
                          <select class="select select-bordered w-full">
                            <option>GPT-4o</option>
                            <option>GPT-4o mini</option>
                            <option>o1-preview</option>
                            <option>o1-mini</option>
                            <option>claude-3-5-sonnet</option>
                            <option>claude-3-5-haiku</option>
                          </select>
                          <label class="label">
                            <span class="label-text-alt">
                              <strong>Select the model to condense conversations and craft retrieval queries.</strong>
                              <br/>
                              This model simplifies ongoing conversations into concise, context-rich questions that guide the retrieval process. Choose a model based on the complexity and performance you need: advanced models handle nuanced contexts better, while lighter models are faster and more efficient.
                            </span>
                          </label>
                        </div>

                        <!-- Embeddings -->
                        <div class="form-control">
                          <label class="label">
                            <span class="label-text font-bold">Embeddings</span>
                          </label>
                          <select class="select select-bordered w-full">
                            <option>text-embedding-ada-002</option>
                            <option>all-MiniLM-L6-v2</option>
                            <option>embed-english-v2.0</option>
                            <option>distilbert-base-uncased</option>
                          </select>
                          <label class="label">
                            <span class="label-text-alt">
                              <strong>Select the embedding model to convert text into numerical vectors for retrieval.</strong>
                              <br/>
                              This model transforms text into numerical vectors, capturing semantic meaning for effective information retrieval. Choose a model that aligns with your performance and accuracy requirements.
                              <br/><br/>
                              ⚠️ Changing the embedding model will require the knowledge index to be recreated. This process may take some time depending on the size of your dataset.
                            </span>
                          </label>
                        </div>

                        <!-- Replace the Tools section with this Extensions section -->
                        <div class="form-control">
                          <label class="label">
                            <span class="label-text font-bold">Extensions</span>
                          </label>
                          
                          <!-- Extension buttons -->
                          <div class="space-y-6">
                            <!-- Action and Data Source buttons -->
                            <div class="flex gap-2">
                              <button type="button"
                                      class="btn btn-outline btn-primary btn-sm"
                                      @click="showActionModal = true">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                                </svg>
                                Add Action
                              </button>
                              
                              <button type="button"
                                      class="btn btn-outline btn-primary btn-sm"
                                      @click="showDataSourceForm = !showDataSourceForm">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                                </svg>
                                Add Data Source
                              </button>
                            </div>

                            <!-- Data Source Form -->
                            <div x-show="showDataSourceForm" 
                                 class="mt-4 card bg-base-200 shadow-sm border border-base-300"
                                 x-transition:enter="transition ease-out duration-200"
                                 x-transition:enter-start="opacity-0 transform -translate-y-4"
                                 x-transition:enter-end="opacity-100 transform translate-y-0">
                              <div class="card-body">
                                <div class="space-y-4">
                                  <!-- Name -->
                                  <div class="form-control">
                                    <label class="label">
                                      <span class="label-text font-medium">Name</span>
                                    </label>
                                    <input type="text" 
                                           class="input input-bordered w-full" 
                                           placeholder="Enter data source name"
                                           value="customer_subscription_lookup" />
                                  </div>

                                  <!-- Description -->
                                  <div class="form-control">
                                    <label class="label">
                                      <span class="label-text font-medium">Description</span>
                                    </label>
                                    <textarea class="textarea textarea-bordered h-24" 
                                              placeholder="Enter description">Use this data source when a user asks about their subscription details, billing status, or next payment date. The source provides current subscription plan, billing cycle, and payment information for a given customer email.</textarea>
                                  </div>

                                  <!-- Interpolation Template -->
                                  <div class="form-control">
                                    <label class="label">
                                      <span class="label-text font-medium">Interpolation Template</span>
                                    </label>
                                    <textarea class="textarea textarea-bordered font-mono h-24" 
                                              placeholder="Enter template">Customer {{email}} is on the {{plan_name}} plan ({{status}}). Their next billing date is {{next_billing_date}}. Current period started on {{current_period_start}} and will end on {{current_period_end}}. Monthly cost: ${{amount_decimal}}.</textarea>
                                  </div>

                                  <!-- DB Connection String -->
                                  <div class="form-control">
                                    <label class="label">
                                      <span class="label-text font-medium">Database Connection String</span>
                                    </label>
                                    <input type="text" 
                                           class="input input-bordered font-mono" 
                                           placeholder="Enter connection string"
                                           value="postgresql://billing_read:pass@billing-db.internal:5432/billing" />
                                  </div>

                                  <!-- Query -->
                                  <div class="form-control">
                                    <label class="label">
                                      <span class="label-text font-medium">Query</span>
                                    </label>
                                    <textarea class="textarea textarea-bordered font-mono h-32" 
                                              placeholder="Enter SQL query">SELECT 
  c.email,
  s.plan_name,
  s.status,
  s.current_period_start,
  s.current_period_end,
  s.next_billing_date,
  s.amount_decimal
FROM customers c
JOIN subscriptions s ON c.id = s.customer_id
WHERE c.email = :email
  AND s.status IN ('active', 'trialing')
ORDER BY s.created_at DESC
LIMIT 1;</textarea>
                                  </div>

                                  <!-- Form Actions -->
                                  <div class="flex justify-end gap-2">
                                    <button class="btn btn-ghost" @click="showDataSourceForm = false">
                                      Cancel
                                    </button>
                                    <button class="btn btn-primary">
                                      Save Data Source
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>

                            <!-- Tool list -->
                            <div class="space-y-6">
                              <template x-for="(tool, index) in tools">
                                <div class="card bg-base-200 shadow-sm border border-base-300">
                                  <!-- Same tool card content as in agent.html -->
                                </div>
                              </template>
                            </div>
                          </div>
                        </div>

                        <!-- Switches -->
                        <div class="space-y-4">
                          <!-- Artificial Delay Switch -->
                          <div class="form-control">
                            <label class="label cursor-pointer">
                              <span class="label-text">
                                <div class="font-medium">Add artificial delay</div>
                                <div class="text-sm text-base-content/70">
                                  Enable this option to add a natural typing delay to your agent's responses, creating a more human-like interaction experience.
                                </div>
                              </span>
                              <input type="checkbox" class="toggle toggle-primary" />
                            </label>
                          </div>

                          <!-- Hide Tool Usage Switch -->
                          <div class="form-control">
                            <label class="label cursor-pointer">
                              <span class="label-text">
                                <div class="font-medium">Hide tool usage messages</div>
                                <div class="text-sm text-base-content/70">
                                  Enable this option to hide the default tool usage announcements, making conversations feel more natural by removing repetitive notifications when tools are being used.
                                </div>
                              </span>
                              <input type="checkbox" class="toggle toggle-primary" />
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>

                    <h2 class="text-2xl font-semibold mt-8">Share Agent</h2>
                    <div class="form-control">
                        <div class="join w-full">
                            <input type="text" 
                                   class="input input-bordered join-item flex-1 font-mono bg-base-200"
                                   value="https://hebo.ai/chat/gato-v2"
                                   readonly />
                            <button class="btn join-item"
                                    @click="navigator.clipboard.writeText('https://hebo.ai/chat/gato-v2')">
                                Copy
                            </button>
                        </div>
                        <label class="label">
                            <span class="label-text-alt text-base-content/70">
                                Share this link to let others interact with your agent. They won't need an account to try it.
                            </span>
                        </label>
                    </div>

                    <h2 class="text-2xl font-semibold mt-8">API Integration</h2>
                    
                    <!-- API Key Generation -->
                    <div class="form-control">
                      <div class="join w-full">
                        <input type="text" 
                               placeholder="Enter key name" 
                               class="input input-bordered join-item flex-1"
                               x-model="newKeyName" />
                        <button class="btn btn-primary join-item"
                                @click="generatedKey = {
                                    name: newKeyName,
                                    key: 'sk-' + Array(32).fill().map(() => Math.random().toString(36)[2]).join(''),
                                    created: new Date().toISOString().split('T')[0]
                                }; newKeyName = ''">
                          Generate API Key
                        </button>
                      </div>
                    </div>

                    <!-- Generated Key Display -->
                    <div class="mt-6" x-show="generatedKey">
                      <div class="alert alert-success">
                        <span>New API key generated for: <strong x-text="generatedKey?.name"></strong></span>
                      </div>
                      <div class="mt-4">
                        <div class="join w-full">
                          <input :type="showKey ? 'text' : 'password'"
                                 class="input input-bordered join-item flex-1 font-mono"
                                 :value="generatedKey?.key"
                                 readonly />
                          <button class="btn join-item"
                                  @click="showKey = !showKey"
                                  x-text="showKey ? 'Hide' : 'Show'">
                          </button>
                          <button class="btn join-item"
                                  @click="navigator.clipboard.writeText(generatedKey?.key)">
                            Copy
                          </button>
                        </div>
                        <div class="text-sm text-warning mt-2">
                          Make sure to copy your API key now. You won't be able to see it again!
                        </div>
                      </div>
                    </div>

                    <!-- Code Examples -->
                    <div class="mt-8">
                      <h3 class="text-xl font-semibold mb-4">Code Examples</h3>
                      <div class="tabs tabs-boxed">
                        <a class="tab" 
                           :class="{ 'tab-active': selectedLang === 'curl' }"
                           @click="selectedLang = 'curl'">cURL</a>
                        <a class="tab" 
                           :class="{ 'tab-active': selectedLang === 'node' }"
                           @click="selectedLang = 'node'">Node.js</a>
                        <a class="tab" 
                           :class="{ 'tab-active': selectedLang === 'python' }"
                           @click="selectedLang = 'python'">Python</a>
                      </div>

                      <!-- cURL Example -->
                      <div class="mockup-code mt-4" x-show="selectedLang === 'curl'" style="background-color: #1a1a1a;">
                        <pre><code>curl -X POST https://api.hebo.ai/v1/chat \
  -H "Authorization: Bearer ${API_KEY}" \
  -H "Content-Type: application/json" \
  -d '{"message": "Hello!"}'</code></pre>
                      </div>

                      <!-- Node.js Example -->
                      <div class="mockup-code mt-4" x-show="selectedLang === 'node'" style="background-color: #1a1a1a;">
                        <pre><code>const axios = require('axios');

const response = await axios.post('https://api.hebo.ai/v1/chat', {
    message: 'Hello!'
}, {
    headers: {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
    }
});</code></pre>
                      </div>

                      <!-- Python Example -->
                      <div class="mockup-code mt-4" x-show="selectedLang === 'python'" style="background-color: #1a1a1a;">
                        <pre><code>import requests

response = requests.post(
    'https://api.hebo.ai/v1/chat',
    json={'message': 'Hello!'},
    headers={
        'Authorization': f'Bearer {API_KEY}',
        'Content-Type': 'application/json'
    }
)</code></pre>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Right chat pane -->
            <div class="w-2/5 border-l flex flex-col">
              <!-- Chat messages area - scrollable -->
              <div class="flex-1 overflow-y-auto">
                <div class="min-h-full flex flex-col justify-end">
                  <!-- First User message -->
                  <div class="flex px-4 py-8 sm:px-6">
                    <img
                      class="mr-2 flex h-8 w-8 rounded-full sm:mr-4"
                      src="https://dummyimage.com/256x256/363536/ffffff&text=U"
                    />
                    <div class="flex max-w-3xl items-center">
                      <p>When do I expect my next billing?</p>
                    </div>
                  </div>

                  <!-- Assistant message -->
                  <div class="flex bg-base-200 px-4 py-8 sm:px-6">
                    <img
                      class="mr-2 flex h-8 w-8 rounded-full sm:mr-4"
                      src="https://dummyimage.com/256x256/354ea1/ffffff&text=A"
                    />
                    <div class="flex w-full flex-col">
                      <p class="max-w-3xl">
                        Our billing schedule, charges are processed on the 1st of each month. Let me help you understand your billing cycle better. Would you like me to check your specific account details or explain how our billing process works in general?
                      </p>
                      <div class="flex justify-end mt-4">
                        <button class="text-base-content/50 hover:text-primary"
                          @click="
                            const rect = $el.getBoundingClientRect();
                            knowledgeCarouselPosition = {
                              x: rect.left - 384 + rect.width,
                              y: rect.top + window.scrollY + rect.height + 8
                            };
                            showKnowledgeCarousel = true;
                          "
                        >
                          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
                          </svg>
                        </button>
                      </div>
                    </div>
                  </div>

                  <!-- Second User message -->
                  <div class="flex px-4 py-8 sm:px-6">
                    <img
                      class="mr-2 flex h-8 w-8 rounded-full sm:mr-4"
                      src="https://dummyimage.com/256x256/363536/ffffff&text=U"
                    />
                    <div class="flex max-w-3xl items-center">
                      <p>What happens if I upgrade mid-month?</p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Chat input area - fixed at bottom -->
              <div class="flex-none">
                <div class="p-4 bg-base-100">
                  <div class="relative">
                    <textarea class="textarea w-full min-h-[4.5rem] bg-base-200 pr-12 border-none" 
                      placeholder="Type your message here..." rows="2"></textarea>
                    <div class="absolute bottom-2 left-2">
                      <button class="btn btn-ghost btn-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
                        </svg>
                      </button>
                    </div>
                    <div class="absolute bottom-2 right-2">
                      <button class="btn btn-ghost btn-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5" />
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Status footer -->
                <div class="px-4 py-2 bg-base-100 text-xs text-base-content/70 flex items-center justify-center gap-2">
                  <div class="w-2 h-2 rounded-full bg-success"></div>
                  The agent is using the last version of Knowledge
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Search Modal -->
      <div x-show="showSearchModal" 
           class="fixed inset-0 bg-black/50 z-50 flex items-start justify-center pt-[20vh]"
           @click="showSearchModal = false"
           x-transition:enter="transition ease-out duration-200"
           x-transition:enter-start="opacity-0"
           x-transition:enter-end="opacity-100"
           x-transition:leave="transition ease-in duration-150"
           x-transition:leave-start="opacity-100"
           x-transition:leave-end="opacity-0"
      >
        <div class="w-[640px] bg-base-100 rounded-xl shadow-2xl"
             @click.stop
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 scale-95"
             x-transition:enter-end="opacity-100 scale-100"
             x-transition:leave="transition ease-in duration-150"
             x-transition:leave-start="opacity-100 scale-100"
             x-transition:leave-end="opacity-0 scale-95"
        >
          <div class="p-4">
            <div class="relative">
              <input type="text" 
                     class="input input-lg w-full pl-12 bg-base-200 border-none"
                     placeholder="Search knowledge..."
                     @keydown.escape="showSearchModal = false"
                     x-ref="searchInput"
                     x-init="$nextTick(() => $refs.searchInput.focus())"
              />
              <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-base-content/50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                </svg>
              </div>
            </div>
          </div>
          <!-- Search results would go here -->
        </div>
      </div>

      <!-- Knowledge Carousel -->
      <div 
        x-show="showKnowledgeCarousel" 
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 scale-95"
        x-transition:enter-end="opacity-100 scale-100"
        x-transition:leave="transition ease-in duration-150"
        x-transition:leave-start="opacity-100 scale-100"
        x-transition:leave-end="opacity-0 scale-95"
        @click.outside="showKnowledgeCarousel = false"
        :style="`position: absolute; left: ${knowledgeCarouselPosition.x}px; top: ${knowledgeCarouselPosition.y}px;`"
        class="bg-base-100 rounded-lg shadow-xl border border-base-300 w-96 z-50"
      >
        <div class="p-4">
          <div class="flex items-center justify-between mb-4">
            <h3 class="font-semibold text-sm">Knowledge Used</h3>
            <button @click="showKnowledgeCarousel = false" class="btn btn-ghost btn-xs">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>
          
          <div class="space-y-3">
            <template x-for="(item, index) in usedKnowledge" :key="index">
              <div class="card bg-base-200 shadow-sm">
                <div class="card-body p-3">
                  <h4 class="card-title text-sm" x-text="item.title"></h4>
                  <p class="text-xs text-base-content/70" x-text="item.excerpt"></p>
                </div>
              </div>
            </template>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
